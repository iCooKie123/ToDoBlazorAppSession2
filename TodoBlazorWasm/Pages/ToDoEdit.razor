@page "/todos/{id}"

<PageTitle>Edit a TO-DO item</PageTitle>

<section>
    <EditForm Model="@TodoItem" OnValidSubmit="@HandleValidSubmit" OnInvalidSubmit="@HandleInvalidSubmit">

        <DataAnnotationsValidator />
        <ValidationSummary></ValidationSummary>

        <div class="form-group row">
            <label for="title" class="col-sm-3">Title: </label>
            <InputText id="title" class="form-control col-sm-8" @bind-Value="@TodoItem.Title" placeholder="e.g. Visit parents"></InputText>
            <ValidationMessage class="offset-sm-3 col-sm-8" For="@(() => TodoItem.Title)" />
        </div>

        <div class="form-group row">
            <label for="isDone">
                <InputCheckbox id="isDone" @bind-Value="@TodoItem.IsDone"></InputCheckbox>
                &nbsp;Is it done?
            </label>
        </div>

        <div class="form-group-row">
            <label>
                <InputCheckbox @bind-Value="showDeadline" />
                Deadline?
            </label>
        </div>

        @if (showDeadline)
        {
            <div class="form-group-row">
                <label for="deadline">Deadline:</label>
                <InputDate id="deadline" @bind-Value="@TodoItem.Deadline"></InputDate>
            </div>
        }

        <div class="form-group-row">
            <label>
                <InputCheckbox @bind-Value="showDescription" />
                Description?
            </label>
        </div>

        @if (showDescription)
        {
            <div class="form-group-row" style="padding-bottom: .5 rem">
                <label for="Description">Description:</label>
                <InputTextArea id="description" class="form-control col-sm-8" @bind-Value="@TodoItem.Description"></InputTextArea>
            </div>
        }


        <section>
            <input type="submit" class="btn btn-primary edit-btn" value="Save" />
            <a class="btn btn-outline-primary" @onclick="@NavigateToOverview">Back to list</a>
        </section>
    </EditForm>
</section>
